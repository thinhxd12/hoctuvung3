"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[217],{217:(e,t,i)=>{i.r(t),i.d(t,{default:()=>l});var n=i(791),a=i(689),s=i(431),r=i(341),o=i(184);const l=e=>{let{}=e;const[t,i]=(0,n.useState)([]),[l,c]=(0,n.useState)(""),[d,m]=(0,n.useState)(0),[u,h]=(0,n.useState)({date:"",title:"",attr:"",authorImg:"",authorName:"",authorYear:"",content:""});(0,n.useEffect)((()=>{v()}),[]),(0,n.useEffect)((()=>{t.length>0&&g(0)}),[t]);const[x]=(0,s.nb)(),v=async()=>{const e=r.qg+r.Hs,t=await x(e).unwrap();let n=[];(new DOMParser).parseFromString(t,"text/html").querySelectorAll(".also__item").forEach((e=>{n.push(e.children[0].getAttribute("href"))})),i(n)},g=async e=>{var i,n,a,s,o,l,d,m,u;const v=r.qg+t[e],g=await x(v).unwrap(),j=(new DOMParser).parseFromString(g,"text/html"),_=null===(i=j.querySelector(".main-image"))||void 0===i?void 0:i.children[0].getAttribute("srcset");_&&c(_);const p=null===(n=j.querySelector(".main-description__share-date"))||void 0===n?void 0:n.textContent,N=null===(a=j.querySelector(".main-description__title"))||void 0===a?void 0:a.textContent,S=null===(s=j.querySelector(".main-description__attr"))||void 0===s?void 0:s.textContent,y=null===(o=j.querySelector(".main-description__authors"))||void 0===o||null===(l=o.querySelector("img"))||void 0===l?void 0:l.getAttribute("srcset"),w=null===(d=j.querySelector(".main-description__author"))||void 0===d?void 0:d.textContent,C=null===(m=j.querySelector(".main-description__author-years"))||void 0===m?void 0:m.textContent,b=null===(u=j.querySelector(".main-description__text-content"))||void 0===u?void 0:u.textContent;h({date:p||"",title:N||"",attr:S||"",authorImg:y||"",authorName:w||"",authorYear:C||"",content:b||""})},[j,_]=(0,n.useState)(window.innerWidth);return(0,n.useEffect)((()=>{const e=()=>_(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,o.jsx)(o.Fragment,{children:j>768?(0,o.jsxs)("div",{className:"layoutContainer",children:[(0,o.jsxs)("div",{className:"mainImageContent",children:[l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{className:"mainImage",srcSet:l||""}),(0,o.jsx)("img",{className:"mainImageBlurred",srcSet:l||""})]}):(0,o.jsx)("div",{className:"mainImageBackground"}),(0,o.jsx)("button",{className:"imageRoundBtn imageRoundBtnLeft",onClick:()=>(()=>{let e=(d-1+t.length)%t.length;m(e),g(e)})(),children:(0,o.jsx)("i",{className:"bx bx-chevron-left"})}),(0,o.jsx)("button",{className:"imageRoundBtn imageRoundBtnRight",onClick:()=>(()=>{let e=(d+1)%t.length;m(e),g(e)})(),children:(0,o.jsx)("i",{className:"bx bx-chevron-right"})})]}),(0,o.jsx)("div",{className:"mainOutlet",children:(0,o.jsx)(a.j3,{})}),(0,o.jsxs)("div",{className:"mainImageDescriptionContainter",children:[(0,o.jsxs)("div",{className:"mainImageDescriptionContent",children:[(0,o.jsx)("div",{className:"main-description__share-date",children:u.date}),(0,o.jsx)("h1",{className:"main-description__title",children:u.title}),(0,o.jsx)("div",{className:"main-description__attr",children:u.attr}),(0,o.jsxs)("div",{className:"main-description__authors",children:[(0,o.jsxs)("div",{className:"main-description__author",children:[(0,o.jsx)("img",{srcSet:u.authorImg,alt:"..."}),(0,o.jsx)("span",{children:u.authorName})]}),(0,o.jsx)("div",{className:"main-description__author-years",children:u.authorYear})]}),(0,o.jsx)("div",{className:"main-description__text-content",children:u.content})]}),(0,o.jsx)("div",{className:"mainImageDescriptionFooter"})]})]}):(0,o.jsxs)("div",{className:"mainImageContent",children:[(0,o.jsx)("div",{className:"subOutletLeft"}),(0,o.jsx)("div",{className:"mainOutlet",children:(0,o.jsx)(a.j3,{})}),(0,o.jsx)("div",{className:"subOutletRight"})]})})}}}]);
//# sourceMappingURL=217.db0b7969.chunk.js.map