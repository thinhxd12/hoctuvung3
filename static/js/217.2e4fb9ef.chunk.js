"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[217],{217:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var i=a(791),n=a(689),s=a(431),r=a(341),o=a(420),l=a(184);const c=e=>{let{}=e;const{toggleLayout:t}=(0,o.v9)((e=>e.vocabulary)),[a,c]=(0,i.useState)([]),[d,m]=(0,i.useState)(""),[u,h]=(0,i.useState)(0),[x,v]=(0,i.useState)({date:"",title:"",attr:"",authorImg:"",authorName:"",authorYear:"",content:""});(0,i.useEffect)((()=>{j()}),[t]),(0,i.useEffect)((()=>{a.length>0&&_(0)}),[a]);const[g]=(0,s.nb)(),j=async()=>{const e=r.qg+r.Hs,t=await g(e).unwrap();let a=[];(new DOMParser).parseFromString(t,"text/html").querySelectorAll(".also__item").forEach((e=>{a.push(e.children[0].getAttribute("href"))})),c(a)},_=async e=>{var t,i,n,s,o,l,c,d,u;const h=r.qg+a[e],x=await g(h).unwrap(),j=(new DOMParser).parseFromString(x,"text/html"),_=null===(t=j.querySelector(".main-image"))||void 0===t?void 0:t.children[0].getAttribute("srcset");_&&m(_);const p=null===(i=j.querySelector(".main-description__share-date"))||void 0===i?void 0:i.textContent,N=null===(n=j.querySelector(".main-description__title"))||void 0===n?void 0:n.textContent,S=null===(s=j.querySelector(".main-description__attr"))||void 0===s?void 0:s.textContent,y=null===(o=j.querySelector(".main-description__authors"))||void 0===o||null===(l=o.querySelector("img"))||void 0===l?void 0:l.getAttribute("srcset"),w=null===(c=j.querySelector(".main-description__author"))||void 0===c?void 0:c.textContent,b=null===(d=j.querySelector(".main-description__author-years"))||void 0===d?void 0:d.textContent,C=null===(u=j.querySelector(".main-description__text-content"))||void 0===u?void 0:u.textContent;v({date:p||"",title:N||"",attr:S||"",authorImg:y||"",authorName:w||"",authorYear:b||"",content:C||""})},[p,N]=(0,i.useState)(window.innerWidth);return(0,i.useEffect)((()=>{const e=()=>N(window.innerWidth);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,l.jsx)(l.Fragment,{children:p>768?(0,l.jsxs)("div",{className:"layoutContainer",children:[(0,l.jsxs)("div",{className:"mainImageContent",children:[d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{className:"mainImage",srcSet:d||""}),(0,l.jsx)("img",{className:"mainImageBlurred",srcSet:d||""})]}):(0,l.jsx)("div",{className:"mainImageBackground"}),(0,l.jsx)("button",{className:"imageRoundBtn imageRoundBtnLeft",onClick:()=>(()=>{let e=(u-1+a.length)%a.length;h(e),_(e)})(),children:(0,l.jsx)("i",{className:"bx bx-chevron-left"})}),(0,l.jsx)("button",{className:"imageRoundBtn imageRoundBtnRight",onClick:()=>(()=>{let e=(u+1)%a.length;h(e),_(e)})(),children:(0,l.jsx)("i",{className:"bx bx-chevron-right"})})]}),(0,l.jsx)("div",{className:"mainOutlet",children:(0,l.jsx)(n.j3,{})}),(0,l.jsxs)("div",{className:"mainImageDescriptionContainter",children:[(0,l.jsxs)("div",{className:"mainImageDescriptionContent",children:[(0,l.jsx)("div",{className:"main-description__share-date",children:x.date}),(0,l.jsx)("h1",{className:"main-description__title",children:x.title}),(0,l.jsx)("div",{className:"main-description__attr",children:x.attr}),(0,l.jsxs)("div",{className:"main-description__authors",children:[(0,l.jsxs)("div",{className:"main-description__author",children:[(0,l.jsx)("img",{srcSet:x.authorImg,alt:"..."}),(0,l.jsx)("span",{children:x.authorName})]}),(0,l.jsx)("div",{className:"main-description__author-years",children:x.authorYear})]}),(0,l.jsx)("div",{className:"main-description__text-content",children:x.content})]}),(0,l.jsx)("div",{className:"mainImageDescriptionFooter"})]})]}):(0,l.jsxs)("div",{className:"mainImageContent",children:[(0,l.jsx)("div",{className:"subOutletLeft"}),(0,l.jsx)("div",{className:"mainOutlet",children:(0,l.jsx)(n.j3,{})}),(0,l.jsx)("div",{className:"subOutletRight"})]})})}}}]);
//# sourceMappingURL=217.2e4fb9ef.chunk.js.map